"File: KeyScan.c     Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Thu Mar 25 17:35:58 2021
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Multi-ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 75
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [75]
  44  0000              
  45  0000              extern ra:byte
  46  0000              extern rb:byte
  47  0000              extern rc:byte
  48  0000              extern rd:byte
  49  0000              extern re:byte
  50  0000              extern rf:byte
  51  0000              extern rg:byte
  52  0000              extern rh:byte
  53  0000              extern _Crom2Prom:near
  54  0000              extern _Crom2PromNext:near
  55  0000              
  56  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  57  0000              @HCCINIT	.section 'data'
  58  0000              @HCCINIT0	.section 'data'
  59  0000              @BITDATASEC	 .section 'data'
"File: KeyScan.ASM   Assembler  Version HGASM0202      Page 2

  60  0000              @BITDATASEC1	 .section 'data'
  61  0000              
  62  0000              #pragma debug scope 1 1
  63  0000              	extern __DELAY3:near
  64  0000              	extern __DELAYX3:near
  65  0000              	extern __DELAYX6:near
  66  0000              	extern __DELAYY5:near
  67  0000              	extern __DELAYY3:near
  68  0000              	extern _builtin_holtek_delay_2:byte
  69  0000              ___pac equ [21]
  70  0000              ___pbc equ [38]
  71  0000              ___papu equ [22]
  72  0000              ___pbpu equ [39]
  73  0000              public _Key_Init
  74  0000              #pragma debug scope 2 1

  21  0000              #line 21 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  21  0000              _Key_Init .section 'code'
  21  0000              _Key_Init proc
  23  0000              #line 23 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  23  0000  3395        	set [21].7
  24  0001              #line 24 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  24  0001  31A6        	set [38].3
  25  0002              #line 25 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  25  0002  3326        	set [38].6
  26  0003              #line 26 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  26  0003  3195        	set [21].3
  28  0004              #line 28 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  28  0004  3396        	set [22].7
  29  0005              #line 29 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  29  0005  31A7        	set [39].3
  30  0006              #line 30 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  30  0006  3327        	set [39].6
  31  0007              #line 31 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  31  0007  3196        	set [22].3
  31  0008  0003        	ret
  31  0009              _Key_Init endp
  31  0009              #line 31 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  31  0009              #pragma debug scope 1 1
  31  0009              ___pa equ [20]
  31  0009              ___pb equ [37]
  31  0009              public _fun_KeyScan
  31  0009              #pragma debug scope 3 1
  35  0009              #line 35 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  35  0000              _fun_KeyScan .section 'code'
  35  0000              _fun_KeyScan proc
  37  0000              #line 37 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  37  0000  3800     E  	snz _gbv_KeyScan_Time_Is_8ms
  37  0001  2800     R  	jmp _L2
  37  0002              #pragma debug scope 4 3
  37  0002              ;begin block, line: 37.-1
  41  0002              #line 41 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  41  0002  3400     E  	clr _gbv_KeyScan_Time_Is_8ms
  42  0003              #line 42 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  42  0003  3800     R  	snz ___key_up_2635
  42  0004  2800     R  	jmp _L5
  42  0005  3B94        	snz [20].7
  42  0006  2800     R  	jmp _L6
  42  0007  39A5        	snz [37].3
  42  0008  2800     R  	jmp _L6
"File: KeyScan.c     Assembler  Version HGASM0202      Page 3

  42  0009  3B25        	snz [37].6
  42  000A  2800     R  	jmp _L6
  42  000B  3D94        	sz [20].3
  42  000C  2800     R  	jmp _L5
  42  000D              _L6:
  44  000D              #line 44 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  44  000D  3400     R  	clr ___key_up_2635
  45  000E              #line 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF 20000>263690
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	ERRMESSAGE 'the value 20000of the argument exceeds the maxinum 263690'
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF 20000<0
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	ERRMESSAGE 'the value 20000 of the argument exceeds the mininum 0'
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF 20000==0
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	JMP $
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=1) AND (20000<( 4 + __PBP__ * 2))
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=2) AND (20000<( 4 + __PBP__ * 2))
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=3) AND (20000<( 4 + __PBP__ * 2))
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=4) AND (20000<( 4 + __PBP__ * 2)) AND ( __PBP__ > 0 )
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=5) AND (20000<( 4 + __PBP__ * 2)) AND ( __PBP__ > 0 )
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=6) AND (20000<( 4 + __PBP__ * 2))  AND ( __PBP__ > 1 )
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=7) AND (20000<( 4 + __PBP__ * 2))  AND ( __PBP__ > 1 )
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000>=8) AND (20000<( 4 + __PBP__ * 2))  AND ( __PBP__ > 2 )
"File: KeyScan.c     Assembler  Version HGASM0202      Page 4

  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000==9)  AND ( __PBP__ > 2 )
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	NOP
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000< ( 8 + __PBP__ * 2)) AND (20000>( 3 + __PBP__ * 2))
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	fcall __DELAY3 + ( 7 + __PBP__ * 2) -20000
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000< ( 0404h + __PBP__ * 2)) AND (20000>( 7 + __PBP__ * 2))
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	MOV A,(20000-( 4 + __PBP__ * 2))/4
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	fcall __DELAYX3 + 3 -((20000-( 4 + __PBP__ * 2)) MOD 4) 
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000< ( 040bh + __PBP__ * 2)) AND (20000> ( 0403h + __PBP__ * 2))
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	MOV A,0 
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	fcall __DELAYX6 + ( 040ah + __PBP__ * 2) -20000
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000 >= ( 040bh + __PBP__ * 2)) AND ((((20000-( 9 + __PBP__ * 2))%0402h)/4+1)>256)
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	MOV A,(20000-( 9 + __PBP__ * 2))/0402h
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	MOV _builtin_holtek_delay_2,A
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	MOV A,0
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	fcall __DELAYY5 +5- (((20000-( 9 + __PBP__ * 2))%0402h)%6) 
  45  000E              	ENDIF
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E              	IF (20000 >= ( 040bh + __PBP__ * 2)) AND ((((20000-( 9 + __PBP__ * 2))%0402h)/4+1)<=256)
  45  000E              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000E  0F13        	MOV A,(20000-( 9 + __PBP__ * 2))/0402h
  45  000F              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  000F  0080     E  	MOV _builtin_holtek_delay_2,A
  45  0010              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  0010  0F7C        	MOV A,((20000-( 9 + __PBP__ * 2))%0402h)/4+1
  45  0011              ;# 45 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c" 1
  45  0011              	fcall __DELAYY3 +3-(((20000-( 9 + __PBP__ * 2))%0402h)%4) 
  45  0018              	ENDIF
  46  0018              #line 46 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  46  0018  3F94        	sz [20].7
  46  0019  2800     R  	jmp _L7
  46  001A  0F01        	mov a,1
  46  001B  0080     R  	mov _KEY_State[0],a
  46  001C  2800     R  	jmp _L8
  46  001D              _L7:
  47  001D              #line 47 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  47  001D  3DA5        	sz [37].3
  47  001E  2800     R  	jmp _L9
  47  001F  0F02        	mov a,2
"File: KeyScan.c     Assembler  Version HGASM0202      Page 5

  47  0020  0080     R  	mov _KEY_State[0],a
  47  0021  2800     R  	jmp _L8
  47  0022              _L9:
  48  0022              #line 48 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  48  0022  3F25        	sz [37].6
  48  0023  2800     R  	jmp _L10
  48  0024  0F03        	mov a,3
  48  0025  0080     R  	mov _KEY_State[0],a
  48  0026  2800     R  	jmp _L8
  48  0027              _L10:
  49  0027              #line 49 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  49  0027  3D94        	sz [20].3
  49  0028  2800     R  	jmp _L8
  49  0029  0F04        	mov a,4
  49  002A  0080     R  	mov _KEY_State[0],a
  49  002B  2800     R  	jmp _L8
  49  002C              _L5:
  51  002C              #line 51 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  51  002C  3B94        	snz [20].7
  51  002D  2800     R  	jmp _L8
  51  002E  39A5        	snz [37].3
  51  002F  2800     R  	jmp _L8
  51  0030  3B25        	snz [37].6
  51  0031  2800     R  	jmp _L8
  51  0032  3994        	snz [20].3
  51  0033  2800     R  	jmp _L8
  53  0034              #line 53 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  53  0034  3000     R  	set ___key_up_2635
  53  0035              _L8:
  56  0035              #line 56 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  56  0035  3D94        	sz [20].3
  56  0036  2800     R  	jmp _L2
  58  0037              #line 58 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  58  0037  0F01        	mov a,1
  58  0038  0300     R  	add a,___gu16v_KEY4_Wifi_SmartConfig_2634[0]
  58  0039  0080     E  	mov rb,a
  58  003A  0F00        	mov a,0
  58  003B  1300     R  	adc a,___gu16v_KEY4_Wifi_SmartConfig_2634[1]
  58  003C  0080     E  	mov rc,a
  58  003D  0700     E  	mov a,rb
  58  003E  0080     R  	mov ___gu16v_KEY4_Wifi_SmartConfig_2634[0],a
  58  003F  0700     E  	mov a,rc
  58  0040  0080     R  	mov ___gu16v_KEY4_Wifi_SmartConfig_2634[1],a
  59  0041              #line 59 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  59  0041  0700     E  	mov a,rb
  59  0042  0A77        	sub a,119
  59  0043  0700     E  	mov a,rc
  59  0044  0801        	sbc a,1
  59  0045  3B0A        	snz cz
  59  0046  2800     R  	jmp _L2
  61  0047              #line 61 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  61  0047  1F00     R  	clr ___gu16v_KEY4_Wifi_SmartConfig_2634[0]
  61  0048  1F00     R  	clr ___gu16v_KEY4_Wifi_SmartConfig_2634[1]
  62  0049              #line 62 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  62  0049  3000     R  	set _gbv_KEY4_Is_long_Press
  62  004A              _L2:
  62  004A              #pragma debug scope 3 1
  62  004A  0003        	ret
  62  004B              _fun_KeyScan endp
  62  004B              #line 62 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
"File: KeyScan.c     Assembler  Version HGASM0202      Page 6

  62  004B              #pragma debug scope 1 1
  62  004B              ___pf equ [363]
  62  004B              ___pc equ [87]
  62  004B              public _fun_Key
  62  004B              #pragma debug scope 5 1
  75  004B              #line 75 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  75  0000              _fun_Key .section 'code'
  75  0000              _fun_Key proc
  77  0000              #line 77 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  77  0000  1700     R  	sdza _KEY_State[0]
  77  0001  2800     R  	jmp _L37
  79  0002              #line 79 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  79  0002  1F00     R  	clr _KEY_State[0]
  80  0003              #line 80 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  80  0003  1F00     E  	clr ra
  80  0004  B96B 0001   	lsnz [363].2
  80  0006  3000     E  	set ra.2
  80  0007  B56B 0001   	lclr [363].2
  80  0009  0700     E  	mov a,ra
  80  000A  85EB 0001   	lorm a,[363]
  81  000C              #line 81 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  81  000C  3000     E  	set _gbv_wifi_Send_JDQ_Water
  81  000D              _L37:
  85  000D              #line 85 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  85  000D  0700     R  	mov a,_KEY_State[0]
  85  000E  0A02        	sub a,2
  85  000F  390A        	snz z
  85  0010  2800     R  	jmp _L39
  87  0011              #line 87 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  87  0011  1F00     R  	clr _KEY_State[0]
  89  0012              #line 89 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  89  0012  3D57        	sz [87].2
  89  0013  2800     R  	jmp _L39
  91  0014              #line 91 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  91  0014  B1EB 0001   	lset [363].3
  91  0016              _L39:
  99  0016              #line 99 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  99  0016  0700     R  	mov a,_KEY_State[0]
  99  0017  0A03        	sub a,3
  99  0018  390A        	snz z
  99  0019  2800     R  	jmp _L41
 101  001A              #line 101 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 101  001A  1F00     R  	clr _KEY_State[0]
 102  001B              #line 102 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 102  001B  1F00     E  	clr ra
 102  001C  38D7        	snz [87].1
 102  001D  3000     E  	set ra.1
 102  001E  34D7        	clr [87].1
 102  001F  0700     E  	mov a,ra
 102  0020  05D7        	orm a,[87]
 103  0021              #line 103 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 103  0021  3000     E  	set _gbv_wifi_Send_LED1
 104  0022              #line 104 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 104  0022  986B 0001   	lrla [363]
 104  0024  0E01        	and a,1
 104  0025  0080     E  	mov ra,a
 104  0026  0F01        	mov a,1
 104  0027  0480     E  	xorm a,ra
 104  0028  1B80     E  	rrc ra
 104  0029  1F00     E  	clr ra
"File: KeyScan.c     Assembler  Version HGASM0202      Page 7

 104  002A  1B80     E  	rrc ra
 104  002B  B7EB 0001   	lclr [363].7
 104  002D  0700     E  	mov a,ra
 104  002E  85EB 0001   	lorm a,[363]
 104  0030              _L41:
 108  0030              #line 108 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 108  0030  3800     R  	snz _gbv_KEY4_Is_long_Press
 108  0031  2800     R  	jmp _L36
 110  0032              #line 110 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 110  0032  3400     R  	clr _gbv_KEY4_Is_long_Press
 112  0033              #line 112 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 112  0033  0F00        	mov a,0
 112  0034              	fcall _mcu_set_wifi_mode
 112  003B              _L36:
 112  003B  0003        	ret
 112  003C              _fun_Key endp
 112  003C              #line 112 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
 112  003C              #pragma debug scope 1 1
 112  0000              @HCCINIT	.section 'data'
  36  0000              #line 36 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  36  0000              @HCCINIT___gu16v_KEY4_Wifi_SmartConfig_2634 .section 'data'
  36  0000              ___gu16v_KEY4_Wifi_SmartConfig_2634 label byte
  36  0000              #pragma debug variable 12 3 ___gu16v_KEY4_Wifi_SmartConfig_2634 "gu16v_KEY4_Wifi_SmartConfig"
  36  0000              	db 0
  36  0000              @ROMDATA_BASE .section inpage 'code'
  36  0000              	db 0
  36  0001              @HCCINIT___gu16v_KEY4_Wifi_SmartConfig_2634 .section 'data'
  36  0001              	db 0
  36  0001              @ROMDATA_BASE .section inpage 'code'
  36  0001              	db 0
  36  0002              @HCCINIT___gu16v_KEY4_Wifi_SmartConfig_2634 .section 'data'
  40  0002              #line 40 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  40  0000              @BITDATASEC1 .section 'data'
  40  0000  00          ___key_up_2635	dbit 1
  40  0001              #pragma debug variable 2 4 ___key_up_2635 "key_up"
  18  0001              #line 18 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  18  0001              public _gbv_KEY4_Is_long_Press
  18  0000              @BITDATASEC .section 'data'
  18  0000  00          _gbv_KEY4_Is_long_Press	dbit 0
  18  0001              #pragma debug variable 2 1 _gbv_KEY4_Is_long_Press "gbv_KEY4_Is_long_Press"
  18  0001              
  18  0000              @HCCINIT .section 'data'
  17  0000              #line 17 "E:\Project\17.HT66F4560_EVM_V1.0\CODE\HT66F4560_TuYa_FishTank_V1.0\souce\KeyScan.c"
  17  0000              public _KEY_State
  17  0000              @HCCINIT0_KEY_State .section 'data'
  17  0000              _KEY_State	db 0
  17  0001              #pragma debug variable 8 1 _KEY_State "KEY_State"
  17  0001              
  17  0000              @HCCINIT .section 'data'
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 43 1 ___pa "__pa" 1
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 45 1 ___pac "__pac" 1
  17  0000              #pragma debug struct_end
"File: KeyScan.c     Assembler  Version HGASM0202      Page 8

  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 47 1 ___papu "__papu" 1
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 49 1 ___pb "__pb" 1
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 51 1 ___pbc "__pbc" 1
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 53 1 ___pbpu "__pbpu" 1
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 55 1 ___pc "__pc" 1
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug struct_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug union_end
  17  0000              #pragma debug variable 57 1 ___pf "__pf" 1
  17  0000              
  17  0000              ; output external variables
  17  0000              extern _gbv_wifi_Send_LED1:bit
  17  0000              extern _gbv_wifi_Send_JDQ_Water:bit
  17  0000              extern _gbv_KeyScan_Time_Is_8ms:bit
  17  0000              extern _mcu_set_wifi_mode:near
  17  0000              
  17  0000              ; 
  17  0000              ; Generated by holtek-gcc v3.19, Thu Mar 25 17:35:58 2021
  17  0000              ; Rebuild 718
  17  0000              ; end of file


        0 Errors, 0